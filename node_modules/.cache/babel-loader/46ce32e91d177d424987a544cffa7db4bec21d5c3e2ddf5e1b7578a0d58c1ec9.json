{"ast":null,"code":"import { configureStore, createSlice } from \"@reduxjs/toolkit\";\n\n// createSlice\n\nconst initialUIState = {\n  isCartShown: false,\n  notification: null\n};\nconst uiSlice = createSlice({\n  name: \"ui\",\n  initialState: initialUIState,\n  reducers: {\n    openCloseCart(state) {\n      state.isCartShown = !state.isCartShown;\n    },\n    showNotification(state, action) {\n      state.notification = {\n        status: action.payload.status,\n        title: action.payload.title,\n        message: action.payload.message\n      };\n    },\n    closeNotification(state) {\n      state.notification = false;\n    }\n  }\n});\nconst cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    items: [],\n    totalQuantity: 0,\n    totalAmount: 0\n  },\n  reducers: {\n    addItemToCart(state, action) {\n      const newItem = action.payload;\n      const existingItem = state.items.find(item => item.id === newItem.id);\n      console.log(existingItem);\n      // console.log(existingItem.name, existingItem.quantity);\n      state.totalQuantity++;\n      if (!existingItem) {\n        state.items.push({\n          id: newItem.id,\n          price: newItem.price,\n          quantity: 1,\n          totalPrice: newItem.price,\n          name: newItem.title\n        });\n      } else {\n        existingItem.quantity = existingItem.quantity + 1;\n        existingItem.totalPrice = existingItem.totalPrice + newItem.price;\n      }\n      console.log(existingItem);\n    },\n    removeItemFromCart(state, action) {\n      state.totalQuantity--;\n      const id = action.payload;\n      const existingItem = state.items.find(item => item.id === id);\n      if (existingItem.quantity === 1) {\n        state.items = state.items.filter(item => item.id !== id);\n      } else {\n        existingItem.quantity--;\n        existingItem.totalPrice = existingItem.totalPrice - existingItem.price;\n      }\n    }\n  }\n});\nconst store = configureStore({\n  reducer: {\n    ui: uiSlice.reducer,\n    cart: cartSlice.reducer\n  }\n});\nexport const uiAction = uiSlice.actions;\nexport const cartActions = cartSlice.actions;\nexport default store;","map":{"version":3,"names":["configureStore","createSlice","initialUIState","isCartShown","notification","uiSlice","name","initialState","reducers","openCloseCart","state","showNotification","action","status","payload","title","message","closeNotification","cartSlice","items","totalQuantity","totalAmount","addItemToCart","newItem","existingItem","find","item","id","console","log","push","price","quantity","totalPrice","removeItemFromCart","filter","store","reducer","ui","cart","uiAction","actions","cartActions"],"sources":["C:/Users/arpit/Documents/sharpnerRedux2/myapp/src/store/cartReducer.js"],"sourcesContent":["import { configureStore, createSlice } from \"@reduxjs/toolkit\";\r\n\r\n// createSlice\r\n\r\nconst initialUIState = { isCartShown: false, notification: null };\r\n\r\nconst uiSlice = createSlice({\r\n  name: \"ui\",\r\n  initialState: initialUIState,\r\n  reducers: {\r\n    openCloseCart(state) {\r\n      state.isCartShown = !state.isCartShown;\r\n    },\r\n    showNotification(state, action) {\r\n      state.notification = {\r\n        status: action.payload.status,\r\n        title: action.payload.title,\r\n        message: action.payload.message,\r\n      };\r\n    },\r\n    closeNotification(state) {\r\n      state.notification = false;\r\n    },\r\n  },\r\n});\r\n\r\nconst cartSlice = createSlice({\r\n  name: \"cart\",\r\n  initialState: {\r\n    items: [],\r\n    totalQuantity: 0,\r\n    totalAmount: 0,\r\n  },\r\n  reducers: {\r\n    addItemToCart(state, action) {\r\n      const newItem = action.payload;\r\n      const existingItem = state.items.find((item) => item.id === newItem.id);\r\n      console.log(existingItem);\r\n      // console.log(existingItem.name, existingItem.quantity);\r\n      state.totalQuantity++;\r\n      if (!existingItem) {\r\n        state.items.push({\r\n          id: newItem.id,\r\n          price: newItem.price,\r\n          quantity: 1,\r\n          totalPrice: newItem.price,\r\n          name: newItem.title,\r\n        });\r\n      } else {\r\n        existingItem.quantity = existingItem.quantity + 1;\r\n        existingItem.totalPrice = existingItem.totalPrice + newItem.price;\r\n      }\r\n      console.log(existingItem);\r\n    },\r\n    removeItemFromCart(state, action) {\r\n      state.totalQuantity--;\r\n      const id = action.payload;\r\n      const existingItem = state.items.find((item) => item.id === id);\r\n      if (existingItem.quantity === 1) {\r\n        state.items = state.items.filter((item) => item.id !== id);\r\n      } else {\r\n        existingItem.quantity--;\r\n        existingItem.totalPrice = existingItem.totalPrice - existingItem.price;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nconst store = configureStore({\r\n  reducer: { ui: uiSlice.reducer, cart: cartSlice.reducer },\r\n});\r\nexport const uiAction = uiSlice.actions;\r\nexport const cartActions = cartSlice.actions;\r\n\r\nexport default store;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}